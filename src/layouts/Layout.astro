---
import Logo from '../components/Logo.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
}

const { title } = Astro.props;

const navItems = [
  { href: '#welcome', text: 'WILLKOMMEN' },
  { href: '#rooms', text: 'BED & BEING' },
  { href: '#cafe', text: 'NOMAD CAFÃ‰' },
  { href: '#kultur', text: 'KULTUR' },
  { href: '#contact', text: 'KONTAKT' },
];
---

<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{title}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Montserrat:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header-content">
          <a href="/" class="header-logo">
            <Logo size="small" />
          </a>
          <Navigation items={navItems} />
          <button class="menu-toggle" aria-label="Toggle Menu">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
      </div>
    </header>

    <main>
      <slot />
    </main>

    <Footer />
  </body>
</html>

<style is:global>
  @import '@/styles/_tokens.css';
  @import '@/styles/_base.css';
  @import '@/styles/_components.css';

  /* Header */
  .header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: var(--z-header);
    transition: background-color var(--transition-normal);
  }

  .header.scrolled {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
  }

  .header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-block: var(--space-component-md);
  }

  /* Mobile Menu Toggle */
  .menu-toggle {
    display: none;
    background: none;
    border: none;
    cursor: pointer;
    padding: var(--space-component-xs);
  }

  .menu-toggle span {
    display: block;
    width: 24px;
    height: 2px;
    background: currentColor;
    margin: 4px 0;
    transition: var(--transition-normal);
  }

  @media (max-width: 768px) {
    .menu-toggle {
      display: block;
    }

    .menu-toggle.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }

    .menu-toggle.active span:nth-child(2) {
      opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -6px);
    }
  }
</style>

<script>
  // Header scroll effect
  const header = document.querySelector('.header') as HTMLElement;
  const menuToggle = document.querySelector('.menu-toggle') as HTMLButtonElement;

  if (header && menuToggle) {
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });

    // Mobile menu toggle
    menuToggle.addEventListener('click', () => {
      menuToggle.classList.toggle('active');
      document.body.classList.toggle('menu-open');
    });
  }
</script>
